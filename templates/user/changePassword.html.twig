{% extends 'base.html.twig' %}

{% block title %}Modifier le Mot de Passe{% endblock %}

{% block body %}
    <div class="container mt-5">
        <h1>Modifier le Mot de Passe</h1>

        {% if form.vars.submitted and form.vars.valid %}
            {{ form_start(form, {'attr': {'class': 'form'}}) }}
            <div class="form-group">
                {{ form_label(form.oldPassword, 'Ancien mot de passe', {'label_attr': {'class': 'font-weight-bold'}}) }}
                {{ form_widget(form.oldPassword, {'attr': {'class': 'form-control'}}) }}
                {{ form_errors(form.oldPassword) }}
            </div>
            <div class="form-group">
                {{ form_label(form.newPassword, 'Nouveau mot de passe', {'label_attr': {'class': 'font-weight-bold'}}) }}
                {{ form_widget(form.newPassword, {'attr': {'class': 'form-control'}}) }}
                {{ form_errors(form.newPassword) }}
            </div>
            <div class="form-group">
                {{ form_label(form.confirmPassword, 'Confirmer le nouveau mot de passe', {'label_attr': {'class': 'font-weight-bold'}}) }}
                {{ form_widget(form.confirmPassword, {'attr': {'class': 'form-control'}}) }}
                {{ form_errors(form.confirmPassword) }}
            </div>

            <button type="submit" class="btn btn-lg btn-primary">Modifier le Mot de Passe</button>
            {{ form_end(form) }}
        {% else %}
            {# Gérer le cas où le formulaire n'est pas encore soumis ou n'est pas valide #}
            {# Afficher le formulaire initial ici #}
            {{ form_start(form, {'attr': {'class': 'form'}}) }}
            <div class="form-group">
                {{ form_label(form.oldPassword, 'Ancien mot de passe', {'label_attr': {'class': 'font-weight-bold'}}) }}
                {{ form_widget(form.oldPassword, {'attr': {'class': 'form-control'}}) }}
                {{ form_errors(form.oldPassword) }}
            </div>
            <div class="form-group">
                {{ form_label(form.newPassword, 'Nouveau mot de passe', {'label_attr': {'class': 'font-weight-bold'}}) }}
                {{ form_widget(form.newPassword, {'attr': {'class': 'form-control'}}) }}
                {{ form_errors(form.newPassword) }}
            </div>
            <div class="form-group">
                {{ form_label(form.confirmPassword, 'Confirmer le nouveau mot de passe', {'label_attr': {'class': 'font-weight-bold'}}) }}
                {{ form_widget(form.confirmPassword, {'attr': {'class': 'form-control'}}) }}
                {{ form_errors(form.confirmPassword) }}
            </div>

            <button type="submit" class="btn btn-lg btn-primary">Modifier le Mot de Passe</button>
            {{ form_end(form) }}
        {% endif %}
    </div>
{% endblock %}
